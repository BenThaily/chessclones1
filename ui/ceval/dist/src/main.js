"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const ctrl_1 = require("./ctrl");
exports.ctrl = ctrl_1.default;
const view = require("./view");
exports.view = view;
const winningChances = require("./winningChances");
exports.winningChances = winningChances;
function isEvalBetter(a, b) {
    return !b || a.depth > b.depth || (a.depth === b.depth && a.nodes > b.nodes);
}
exports.isEvalBetter = isEvalBetter;
// stop when another tab starts. Listen only once here,
// as the ctrl can be instanciated several times.
// gotta do the click on the toggle to have it visually change.
window.lichess.storage.make('ceval.pool.start').listen(_ => {
    const toggle = document.getElementById('analyse-toggle-ceval');
    if (toggle && toggle.checked)
        toggle.click();
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9tYWluLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsaUNBQTBCO0FBTWpCLGVBTkYsY0FBSSxDQU1FO0FBTGIsK0JBQStCO0FBS2hCLG9CQUFJO0FBSm5CLG1EQUFtRDtBQUk5Qix3Q0FBYztBQUVuQyxTQUFnQixZQUFZLENBQUMsQ0FBa0IsRUFBRSxDQUFtQjtJQUNsRSxPQUFPLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLEtBQUssSUFBSSxDQUFDLENBQUMsQ0FBQyxLQUFLLEtBQUssQ0FBQyxDQUFDLEtBQUssSUFBSSxDQUFDLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQztBQUMvRSxDQUFDO0FBRkQsb0NBRUM7QUFFRCx1REFBdUQ7QUFDdkQsaURBQWlEO0FBQ2pELCtEQUErRDtBQUMvRCxNQUFNLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsa0JBQWtCLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUU7SUFDekQsTUFBTSxNQUFNLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyxzQkFBc0IsQ0FBQyxDQUFDO0lBQy9ELElBQUksTUFBTSxJQUFLLE1BQTJCLENBQUMsT0FBTztRQUFFLE1BQU0sQ0FBQyxLQUFLLEVBQUUsQ0FBQztBQUNyRSxDQUFDLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBjdHJsIGZyb20gJy4vY3RybCc7XG5pbXBvcnQgKiBhcyB2aWV3IGZyb20gJy4vdmlldyc7XG5pbXBvcnQgKiBhcyB3aW5uaW5nQ2hhbmNlcyBmcm9tICcuL3dpbm5pbmdDaGFuY2VzJztcblxuZXhwb3J0IHsgQ2V2YWxDdHJsLCBOb2RlRXZhbHMsIEV2YWwsIFdvcmssIENldmFsT3B0cyB9IGZyb20gJy4vdHlwZXMnO1xuXG5leHBvcnQgeyBjdHJsLCB2aWV3LCB3aW5uaW5nQ2hhbmNlcyB9O1xuXG5leHBvcnQgZnVuY3Rpb24gaXNFdmFsQmV0dGVyKGE6IFRyZWUuQ2xpZW50RXZhbCwgYj86IFRyZWUuQ2xpZW50RXZhbCk6IGJvb2xlYW4ge1xuICByZXR1cm4gIWIgfHwgYS5kZXB0aCA+IGIuZGVwdGggfHwgKGEuZGVwdGggPT09IGIuZGVwdGggJiYgYS5ub2RlcyA+IGIubm9kZXMpO1xufVxuXG4vLyBzdG9wIHdoZW4gYW5vdGhlciB0YWIgc3RhcnRzLiBMaXN0ZW4gb25seSBvbmNlIGhlcmUsXG4vLyBhcyB0aGUgY3RybCBjYW4gYmUgaW5zdGFuY2lhdGVkIHNldmVyYWwgdGltZXMuXG4vLyBnb3R0YSBkbyB0aGUgY2xpY2sgb24gdGhlIHRvZ2dsZSB0byBoYXZlIGl0IHZpc3VhbGx5IGNoYW5nZS5cbndpbmRvdy5saWNoZXNzLnN0b3JhZ2UubWFrZSgnY2V2YWwucG9vbC5zdGFydCcpLmxpc3RlbihfID0+IHtcbiAgY29uc3QgdG9nZ2xlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FuYWx5c2UtdG9nZ2xlLWNldmFsJyk7XG4gIGlmICh0b2dnbGUgJiYgKHRvZ2dsZSBhcyBIVE1MSW5wdXRFbGVtZW50KS5jaGVja2VkKSB0b2dnbGUuY2xpY2soKTtcbn0pO1xuIl19