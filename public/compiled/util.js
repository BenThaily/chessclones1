lichess=window.lichess||{},lichess.engineName="Stockfish 11+",lichess.raf=window.requestAnimationFrame.bind(window),lichess.requestIdleCallback=(window.requestIdleCallback||window.setTimeout).bind(window),lichess.dispatchEvent=(e,t)=>e.dispatchEvent(new Event(t)),lichess.hasTouchEvents="ontouchstart"in window;try{const e=window.crypto.getRandomValues(new Uint8Array(9));lichess.sri=btoa(String.fromCharCode(...e)).replace(/[/+]/g,"_")}catch(_){lichess.sri=Math.random().toString(36).slice(2,12)}lichess.isCol1=(()=>{let e="init";return()=>("string"==typeof e&&("init"==e&&(window.addEventListener("resize",()=>{e="rec"}),navigator.userAgent.indexOf("Edge/")>-1&&window.lichess.raf(()=>{e="rec"})),e=!!getComputedStyle(document.body).getPropertyValue("--col1")),e)})();{const e=e=>{const t={get:t=>e.getItem(t),set:(t,s)=>e.setItem(t,s),fire:(t,s)=>e.setItem(t,JSON.stringify({sri:lichess.sri,nonce:Math.random(),value:s})),remove:t=>e.removeItem(t),make:s=>({get:()=>t.get(s),set:e=>t.set(s,e),fire:e=>t.fire(s,e),remove:()=>t.remove(s),listen:t=>window.addEventListener("storage",o=>{if(o.key!==s||o.storageArea!==e||null===o.newValue)return;let n;try{n=JSON.parse(o.newValue)}catch(_){return}n.sri&&n.sri!==lichess.sri&&t(n)})}),makeBoolean:e=>({get:()=>1==t.get(e),set:s=>t.set(e,s?1:0),toggle:()=>t.set(e,1==t.get(e)?0:1)})};return t};lichess.storage=e(window.localStorage),lichess.tempStorage=e(window.sessionStorage)}lichess.once=(e,t)=>"always"===t||!lichess.storage.get(e)&&(lichess.storage.set(e,1),!0),lichess.debounce=(e,t,s)=>{let o,n=0;return function(){let i=this,a=arguments,r=performance.now()-n;n=performance.now();let c=()=>{o=null,e.apply(i,a)};clearTimeout(o),s&&r>t?e.apply(i,a):o=setTimeout(c,t)}},lichess.powertip=(()=>{function e(e){return function(e,t){return t&&t.contains(e)}(e,document.querySelector(".crosstable"))}function t(e,t){return function(){let s=($(this).data("href")||$(this).attr("href")).replace(/\?.+$/,"");t&&t(s),$.ajax({url:s+"/mini",success:function(t){$("#"+e).html(t),lichess.pubsub.emit("content_loaded")}})}}let s=(e,t)=>'<a class="btn-rack__btn" href="'+e+'" data-icon="'+t+'"></a>',o=(o,n)=>{n=n||o.getAttribute("data-pt-pos")||(e(o)?"n":"s"),$(o).removeClass("ulpt").powerTip({intentPollInterval:200,placement:n,smartPlacement:!0,mouseOnToPopup:!0,closeDelay:200}).data("powertip"," ").on({powerTipRender:t("powerTip",e=>{const t=e.substr(3),n=$(o).data("name")||$(o).html();$("#powerTip").html('<div class="upt__info"><div class="upt__info__top"><span class="user-link offline">'+n+'</span></div></div><div class="upt__actions btn-rack">'+s("/@/"+t+"/tv","1")+s("/inbox/new?user="+t,"c")+s("/?user="+t+"#friend","U")+'<a class="btn-rack__btn relation-button" disabled></a></div>')})})};function n(s){$(s).removeClass("glpt").powerTip({intentPollInterval:200,placement:e(s)?"n":"w",smartPlacement:!0,mouseOnToPopup:!0,closeDelay:200,popupId:"miniGame"}).on({powerTipPreRender:t("miniGame")}).data("powertip",lichess.spinnerHtml)}function i(e,t,s){lichess.isHoverable()&&(s(e),$.powerTip.show(e,t))}function a(e,t,s){lichess.requestIdleCallback((function(){Array.prototype.forEach.call(e.querySelectorAll(t),s)}))}return{mouseover(e){var t=e.target,s=t.classList;s.contains("ulpt")?i(t,e,o):s.contains("glpt")&&i(t,e,n)},manualGameIn(e){a(e,".glpt",n)},manualUserIn(e){a(e,".ulpt",e=>o(e))}}})(),lichess.widget=(e,t)=>{var s=$[e]=function(t,s){this.element=$(s),$.data(s,e,this),this.options=t,this._create()};s.prototype=t,$.fn[e]=function(t){var o=this,n=Array.prototype.slice.call(arguments,1);return"string"==typeof t?this.each((function(){var s=$.data(this,e);if(s)return $.isFunction(s[t])&&"_"!==t.charAt(0)?void(o=s[t].apply(s,n)):$.error("no such method '"+t+"' for "+e+" widget instance")})):this.each((function(){$.data(this,e)||$.data(this,e,new s(t,this))})),o}},lichess.isHoverable=()=>(void 0===lichess.hoverable&&(lichess.hoverable=!lichess.hasTouchEvents||!!getComputedStyle(document.body).getPropertyValue("--hoverable")),lichess.hoverable),lichess.spinnerHtml='<div class="spinner"><svg viewBox="0 0 40 40"><circle cx=20 cy=20 r=18 fill="none"></circle></svg></div>',lichess.assetUrl=(e,t)=>{const s=(t=t||{}).sameDomain?"":document.body.getAttribute("data-asset-url"),o=document.body.getAttribute("data-asset-version");return s+"/assets"+(t.noVersion?"":"/_"+o)+"/"+e},lichess.loadedCss={},lichess.loadCss=function(e){lichess.loadedCss[e]||(lichess.loadedCss[e]=!0,$("head").append($('<link rel="stylesheet" type="text/css" />').attr("href",lichess.assetUrl(e))))},lichess.loadCssPath=function(e){lichess.loadCss("css/"+e+"."+$("body").data("theme")+"."+($("body").data("dev")?"dev":"min")+".css")},lichess.compiledScript=function(e){return"compiled/lichess."+e+($("body").data("dev")?"":".min")+".js"},lichess.loadScript=function(e,t){return $.ajax({dataType:"script",cache:!0,url:lichess.assetUrl(e,t)})},lichess.hopscotch=function(e){lichess.loadCss("vendor/hopscotch/dist/css/hopscotch.min.css"),lichess.loadScript("vendor/hopscotch/dist/js/hopscotch.min.js",{noVersion:!0}).done(e)},lichess.slider=function(){return lichess.loadScript("javascripts/vendor/jquery-ui.slider"+(lichess.hasTouchEvents?".touch":"")+".min.js")},lichess.makeChat=function(e,t){lichess.raf((function(){e.loadCss=lichess.loadCssPath,(t||$.noop)(LichessChat.default(document.querySelector(".mchat"),e))}))},lichess.formAjax=e=>({url:e.attr("action"),method:e.attr("method")||"post",data:e.serialize()}),lichess.numberFormat=function(){var e=!1;return function(t){return!1===e&&(e=window.Intl&&Intl.NumberFormat?new Intl.NumberFormat:null),null===e?t:e.format(t)}}(),lichess.idleTimer=function(e,t,s){var o=["mousemove","touchstart"],n=!1,i=!0,a=performance.now(),r=function(){i||s(),i=!0,a=performance.now(),c()},c=function(){n&&(o.forEach((function(e){document.removeEventListener(e,r)})),n=!1)};setInterval((function(){i&&performance.now()-a>e&&(t(),i=!1),n||(o.forEach((function(e){document.addEventListener(e,r)})),n=!0)}),1e4)},lichess.pubsub=function(){var e=[];return{on(t,s){e[t]=e[t]||[],e[t].push(s)},off(t,s){if(e[t])for(var o in e[t])if(e[t][o]===s){e[t].splice(o);break}},emit(t){if(!e[t])return;const s=Array.prototype.slice.call(arguments,1);for(let o in e[t])e[t][o].apply(null,s)}}}(),lichess.hasToReload=!1,lichess.redirectInProgress=!1,lichess.redirect=function(e){var t;if("string"==typeof e)t=e;else if(t=e.url,e.cookie){var s=document.domain.replace(/^.+(\.[^.]+\.[^.]+)$/,"$1"),o=[encodeURIComponent(e.cookie.name)+"="+e.cookie.value,"; max-age="+e.cookie.maxAge,"; path=/","; domain="+s].join("");document.cookie=o}var n="//"+location.host+"/"+t.replace(/^\//,"");lichess.redirectInProgress=n,location.href=n},lichess.reload=function(){lichess.redirectInProgress||(lichess.hasToReload=!0,location.hash?location.reload():location.href=location.href)},lichess.escapeHtml=function(e){return/[&<>"']/.test(e)?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;"):e},$.modal=function(e,t,s){$.modal.close(),e.clone||(e=$("<div>"+e+"</div>"));var o=$('<div id="modal-wrap">').html(e.clone().removeClass("none")).prepend('<span class="close" data-icon="L"></span>'),n=$('<div id="modal-overlay">').addClass(t).data("onClose",s).html(o);return o.find(".close").on("click",$.modal.close),n.on("click",(function(){$(".ui-slider-handle.ui-state-focus").length||$.modal.close()})),o.on("click",(function(e){e.stopPropagation()})),$("body").addClass("overlayed").prepend(n),o},$.modal.close=function(){$("body").removeClass("overlayed"),$("#modal-overlay").each((function(){($(this).data("onClose")||$.noop)(),$(this).remove()}))};